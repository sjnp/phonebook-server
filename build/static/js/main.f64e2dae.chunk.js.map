{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","type","name","value","onChange","PersonForm","person","handleNameChange","handleNumberChange","addPerson","onSubmit","number","Person","handleRemoveClick","onClick","id","Persons","persons","map","i","baseUrl","App","useState","setPersons","newPerson","setNewPerson","setFilter","personsWithFilter","setPersonsWithFilter","useEffect","axios","get","then","response","initPersons","data","setPersonsWith","p","toLowerCase","includes","event","newFilter","target","obj","preventDefault","post","res","newPersons","concat","catch","err","alertMessage","error","alert","delete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f64e2dae.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({filter, handleFilterChange}) => {\n\n  return (\n    <div>\n      Filter show with\n      <input \n        type=\"text\"\n        name=\"filter\"\n        value={filter}\n        onChange={handleFilterChange}\n      />\n    </div>\n  );\n};\n\nexport default Filter;","import React from \"react\";\nimport \"./PersonForm.css\";\n\nconst PersonForm = ({person, handleNameChange, handleNumberChange, addPerson}) => {\n\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <label>\n          Name:\n          <input \n            type=\"text\" \n            name=\"name\" \n            value={person.name} \n            onChange={handleNameChange}\n          />\n        </label>\n        <label>\n          Number:\n          <input \n            type=\"text\" \n            name=\"number\" \n            value={person.number} \n            onChange={handleNumberChange}\n          />\n        </label>\n        <button type=\"submit\">Add</button>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;","import React from \"react\";\n\nconst Person = ({person, handleRemoveClick}) => {\n\n  return (\n    <li>\n      {person.name} {person.number}\n      <button type=\"button\" onClick={() => handleRemoveClick(person.id)}>Remove</button>\n    </li>\n  );\n};\n\nexport default Person;","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({persons, handleRemoveClick}) => {\n\n  return (\n    <ul>\n      {persons.map((person, i) =>\n        <Person key={i} person={person} handleRemoveClick={handleRemoveClick} />\n      )}\n    </ul>\n  );\n};\n\nexport default Persons;","import React, {useEffect, useState} from \"react\";\nimport axios from 'axios';\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\n\nconst baseUrl = 'http://localhost:3001/api/persons';\n\nconst App = () => {\n  // State\n  const [persons, setPersons] = useState([]);\n  const [newPerson, setNewPerson] = useState(\n    { name: '', number: ''}\n  );\n  const [filter, setFilter] = useState('');\n  const [personsWithFilter, setPersonsWithFilter] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(baseUrl)\n      .then(response => {\n        const initPersons = response.data;        \n        setPersons(initPersons);\n        setPersonsWithFilter(initPersons);\n      });\n  }, []);\n\n  const setPersonsWith = (filter, persons) => {\n    setPersonsWithFilter(\n      persons.filter(p => \n        p.name.toLowerCase().includes(filter.toLowerCase()))\n    );\n  }\n\n  const handleNameChange = (event) => {\n    const obj = {\n      ...newPerson,\n      name: (event.target.value)\n    };\n    setNewPerson(obj);\n  };\n\n  const handleNumberChange = (event) => {\n    const obj = {\n      ...newPerson,\n      number: (event.target.value)\n    };\n    setNewPerson(obj);\n  };\n\n  const handleFilterChange = (event) => {\n    const newFilter = event.target.value;\n    setFilter(newFilter);\n    setPersonsWith(newFilter, persons);\n  };\n\n  const handleRemoveClick = (id) => {\n    axios\n      .delete(`${baseUrl}/${id}`)\n      .then(res => {\n        const newPersons = persons.filter(p => p.id !== id);\n        setPersons(newPersons);\n        setPersonsWith(filter, newPersons);\n      })\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    axios\n      .post(baseUrl, newPerson)\n      .then(res => {\n        const newPersons = persons.concat(res.data);\n        setPersons(newPersons);\n        setPersonsWith(filter, newPersons);\n      })\n      .catch(err => {\n        const alertMessage = err.response.data.error;\n        alert(alertMessage);\n      })\n\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter \n        filter={filter}\n        handleFilterChange={handleFilterChange}\n      />\n      <h2>Add a new</h2>\n      <PersonForm \n        person={newPerson} \n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={personsWithFilter} handleRemoveClick={handleRemoveClick} />\n\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}